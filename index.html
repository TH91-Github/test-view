<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
  <title>TEST 화면</title>
  <link rel="stylesheet" href="./assets/css/common.css">
</head>
<style>
html{
  border:1px solid blue;
  background:#fff;
}
body{
  border:1px solid red;
  background:gray;
}
.wrap {
  position:relative;
  max-width:750px;
  margin:0 auto;
  background:#FFF3CF;
}
.content{
  position:relative;
  height:auto;
  padding:30px;
}
.input-box {
  margin-top:30px;
  text-align:center;
}
.input-box .input {
  padding:5px;
}
.title{
  font-size:1.125rem;
  text-align:center;
}
[class^="box-cont"]{
  position:relative;
  width:100%;
  height:500px;
  border:1px solid #000;
  text-align:center;
}
[class^="box-cont"] span {color:#fff;}
.box-cont1 {background:#40A2E3;}
.box-cont2 {background:#0D9276;}
.box-cont3 {background:#637A9F;}
.pos-bottom {
  position:absolute;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
}
[class^="fixed-"]{
  position:fixed;
  right:0;
  padding:3px 5px;
  border-radius:5px;
  background:#242424;
  font-size:0.75rem;
  color:#fff;
}
.fixed-top {top:0;}
.fixed-center{top:50%; transform: translateY(-50%);}
.fixed-bottom{bottom:0;}

.test-wrap {
  position:fixed;
  top:0;
  left:0;
  width:40%;
  height:100%;
  background: rgb(0, 0, 0,.7);
  color:#FFBB64;
}
.test-wrap span {color:#fff;}
.test-center {position:absolute; top:50%; left:10px; padding:5px; border:1px solid red; transform:translateY(-50%); }
</style>
<body>
  <div class="wrap">
    <div class="content">
      <h1 class="title">Android, IOS 키보드 테스트</h1>
      <div class="input-box">
        <input type="text" class="input"/><br />
        <span>☝️ TEST Input</span>
      </div>
      <div class="box-cont1">
        <span>box-1 top</span>
        <span class="pos-bottom">box-1 bottom</span>
      </div>
      <div class="box-cont2">
        <span>box-2 top</span>
        <span class="pos-bottom">box-2 bottom</span>
      </div>
      <div class="box-cont3">
        <span>box-3 top</span>
        <span class="pos-bottom">box-3 bottom</span>
      </div>
      <div class="fixed-top">fixed : Top</div>
      <div class="fixed-center">fixed : Center</div>
      <div class="fixed-bottom">fixed : Bottom</div>
    </div>
    <div class="test-wrap">
      <div class="test-center">
        <p class="window-scroll">w-scroll: <span>0</span></p>
        <p class="visualviewport-scroll">viewport-scroll: <span>0</span></p>
        <hr />
        <p class="body-height">body-H: <span>0</span></p>
        <p class="window-innerHeight">window-H: <span>0</span></p>
        <p class="visualviewport-height">viewport-H: <span>0</span></p>
      </div>
    </div>
  </div>
</body>
</html>

<script>

const windowScroll = document.querySelector('.window-scroll span');
const viewportScroll = document.querySelector('.visualviewport-scroll span');

const bodyHeightText = document.querySelector('.body-height span');
const windowHeightText = document.querySelector('.window-innerHeight span');
const viewportHeightText = document.querySelector('.visualviewport-height span');

// Scroll
function handleWindowScroll(){
  windowScroll.textContent = window.scrollY;
}
function handleViewportScroll(e){
  viewportScroll.textContent = e.target.offsetTop;
}
// Resize
function viewportResize () {
  const bodyHeight = document.body.offsetHeight;
  const windowInnerHeight = window.innerHeight;
  const viewportHeight = visualViewport.height;
  // body-H
  bodyHeightText.textContent = bodyHeight;
  // window-H
  windowHeightText.textContent = windowInnerHeight;
  // viewport-H
  viewportHeightText.textContent = viewportHeight;

  window.addEventListener('scroll',handleWindowScroll);
  visualViewport.addEventListener("scroll", handleViewportScroll);
}
visualViewport.addEventListener('resize',viewportResize);




      

// test
window.addEventListener('load',viewportResize);

</script>
